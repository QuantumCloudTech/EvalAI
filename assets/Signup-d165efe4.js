import{_ as v,b8 as $,u as E,b7 as S,al as c,r as F,o as I,c as q,a as i,t as d,as as o,Z as n,F as K,ar as f,p as M,d as P,b$ as U,b9 as k,bb as H}from"./index-f743b3f6.js";import{n as B,E as C}from"./el-form-item-f656376e.js";import{E as L}from"./el-loading-7c6c347d.js";const N=p=>(M("data-v-2b78506f"),p=p(),P(),p),D=N(()=>i("div",{class:"logo"},[i("img",{src:U,alt:""})],-1)),R={class:"greet"},Z={class:"center"},j={style:{color:"#ffffff"},href:"/auth/login"},z={__name:"Signup",setup(p){const w=$(),_=E(),{t:a,locale:A}=S(),s=c({username:"",password:"",confirmpw:"",email:""}),b=(e,r,l)=>{r!==s.password?l(new Error(a("signup.confirmpwVerify1"))):l()},h=c({username:[{required:!0,message:a("signup.usernameVerify1"),trigger:"blur"},{pattern:/^.{3,}$/,message:a("signup.usernameVerify2"),trigger:"blur"}],email:[{required:!0,message:a("signup.emailVerify1"),trigger:"blur"},{type:"email",message:a("signup.emailVerify2"),trigger:"blur"}],password:[{required:!0,message:a("signup.passwordVerify1"),trigger:"blur"},{pattern:/^.{8,}$/,message:a("signup.passwordVerify2"),trigger:"blur"}],confirmpw:[{required:!0,message:a("signup.passwordVerify1"),trigger:"blur"},{validator:b,trigger:"blur"}]}),g=F(),m=()=>{g.value.validate(e=>{e&&y()})},y=()=>{const e=L.service();w.dispatch("signUp",{username:s.username,password1:s.password,password2:s.confirmpw,email:s.email}).then(r=>{e.close(),k.success(a("signup.registerSuccess")),_.push("/")}).catch(r=>{e.close()})};return(e,r)=>{const l=H,u=C,V=B;return I(),q(K,null,[D,i("div",R,d(e.$t("greeting")),1),o(V,{ref_key:"inputForm",ref:g,model:s,rules:h,class:"auth-form","label-position":"top","validate-on-rule-change":!1,"require-asterisk-position":"right"},{default:n(()=>[o(u,{label:e.$t("signup.username"),prop:"username"},{default:n(()=>[o(l,{modelValue:s.username,"onUpdate:modelValue":r[0]||(r[0]=t=>s.username=t),modelModifiers:{trim:!0},placeholder:e.$t("signup.usernamePH"),class:"input-item",maxlength:"32"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(u,{label:e.$t("signup.email"),prop:"email"},{default:n(()=>[o(l,{modelValue:s.email,"onUpdate:modelValue":r[1]||(r[1]=t=>s.email=t),modelModifiers:{trim:!0},placeholder:e.$t("signup.emailPH"),type:"email",class:"input-item",maxlength:"32"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(u,{label:e.$t("signup.password"),prop:"password"},{default:n(()=>[o(l,{class:"input-item",type:"password",modelValue:s.password,"onUpdate:modelValue":r[2]||(r[2]=t=>s.password=t),modelModifiers:{trim:!0},placeholder:e.$t("signup.passwordPH"),onKeypress:f(m,["enter"]),maxlength:"32","show-password":""},null,8,["modelValue","placeholder","onKeypress"])]),_:1},8,["label"]),o(u,{label:e.$t("signup.confirmpw"),prop:"confirmpw"},{default:n(()=>[o(l,{class:"input-item",type:"password",modelValue:s.confirmpw,"onUpdate:modelValue":r[3]||(r[3]=t=>s.confirmpw=t),modelModifiers:{trim:!0},placeholder:e.$t("signup.confirmpwPH"),onKeypress:f(m,["enter"]),maxlength:"32","show-password":""},null,8,["modelValue","placeholder","onKeypress"])]),_:1},8,["label"]),i("div",{class:"auth-submit-btn",onClick:m},d(e.$t("signup.signup")),1)]),_:1},8,["model","rules"]),i("div",Z,[i("a",j,d(e.$t("signup.goLogin")),1)])],64)}}},Q=v(z,[["__scopeId","data-v-2b78506f"]]);export{Q as default};
